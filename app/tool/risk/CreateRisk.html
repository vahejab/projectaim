<div id="formcontainer" ng-app="Risk" ng-controller="CreateRiskController" get-risk>
    <div id="mycreateform" class="container" type="space" layout-padding="" ng-cloak="">     
        <form id="form" name="CreateRisk" role="form" ng-submit="valid() && submit()" novalidate>
            <table id="details" class="layout" border="1">
                <tr>
                    <td class="label">
                        Title
                    </td>
                    <td class="locked">
                        <div ng-if="$root.initDone"><div webix-ui="risktitle" width="500" height="30" type="text" id="risktitle" name="risktitle" /></div>
                    </td>
                </tr>
                <tr>    
                    <td class="label">
                        Risk Statement
                    </td>
                    <td class="locked">
                        <div ng-if="$root.initDone"><div webix-ui="riskstatement" width="500" height="97" type="textarea" id="riskstatement" name="riskstatement" /></div>
                    </td>
                </tr>
                <tr>
                    <td class="label">
                        Context
                    </td>
                    <td class="locked">
                        <div ng-if="$root.initDone"><div webix-ui="context" width="500" height="97" type="textarea" id="context" name="context" /></div>
                    </td>
                </tr>
                <tr>
                    <td class="label">
                        Closure Criteria
                    </td>
                    <td class="locked">
                        <div ng-if="$root.initDone"><div webix-ui="closurecriteria" width="500" height="97" type="textarea" id="closurecriteria" name="closurecriteria" /></div>
                    </td>
                </tr>
                 <!--tr class="text">
                        <td class="label">
                            Category
                        </td>
                        <td class="locked">
                             <div id="category" name="category" />
                        </td>
                  </tr-->
            </table>
            <h2>Initial Risk Assessment</h2>
            <div class="nested">
                <div class="info">
                    <table id="details" border="1">
                        <tr>
                            <td class="label">
                                Likelihood
                            </td>
                            <td class="locked">
                                <div ng-if="$root.initDone"><div webix-ui="likelihood" width="30" height="30" type="text" id="likelihood" name="likelihood" maxlength="1" /></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" colspan="2">
                                Consequence
                            </td>
                        </tr>
                         <tr>
                            <td class="label margin-left">
                                Technical
                            </td>
                            <td class="locked">
                                <div ng-if="$root.initDone"><div webix-ui="technical" width="30" height="30" type="text" id="technical" name="technical" maxlength="1" /></div>
                            </td>
                        </tr>
                         <tr>
                            <td class="label margin-left">
                                Schedule
                            </td>
                            <td class="locked">
                                <div ng-if="$root.initDone"><div webix-ui="schedule" width="30" height="30" type="text" id="schedule" name="schedule" maxlength="1" /></div>
                            </td>
                        </tr>
                         <tr>
                            <td class="label margin-left">
                                Cost
                            </td>
                            <td class="locked">
                               <div ng-if="$root.initDone"><div webix-ui="cost" width="30" height="30" type="text" id="cost" name="cost" maxlength="1" /></div>
                            </td>
                        </tr>
                    </table>
                     <div name="level"></div>
                </div> 
                &nbsp;&nbsp;    
                <div class="info" ng-if="$root.initDone">
                    <table class="matrix" id="riskmatrix">
                    <tbody>
                    <tr ng-repeat="likelihood in [5,4,3,2,1]">
                            <td ng-if="likelihood == 2" class="vlabel">Likelihood</td>
                            <td ng-if="likelihood != 2"></td>
                            <td class="likelihood">{{likelihood}}</td>
                            <td ng-repeat="consequence in [1,2,3,4,5]" name="risk[{{likelihood}}][{{consequence}}]" ng-model="riskMatrix[likelihood][consequence]" ng-class="[riskLevel(likelihood,consequence)]"></td>
                    </tr>
                    <tr>
                            <td></td>
                            <td></td>
                            <td ng-repeat="consequence in [1,2,3,4,5]">{{consequence}}</td>
                    </tr>
                    <tr>
                        <td></td><td></td><td colspan="5">Consequence</td> 
                    </tr>  
                    </tbody></table>
                </div>
                 &nbsp;&nbsp;   
            </div>
        <divider></divider>
        <div>
            <div>
              <button id="submit" type="submit" disabled="disabled" class="raised primary">Create Risk</button>
            </div>
        </div>
        <div>
          <div class="msg" layout-align="center">
            <span ng-bind-html="msg">{{msg}}</span>
          </div>
        </div>
        </form>
    </div>
</div>
