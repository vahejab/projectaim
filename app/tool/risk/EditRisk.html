<div id="formcontainer"  ng-app="Risk" ng-controller="EditRiskController as ctrl">
    <get-risk></get-risk>
    <div ng-if="ctrl.initDone && ctrl.userDone" id="myeditform" type="space" layout-padding="" ng-cloak="">   
        <form id="form" name="EditRisk" role="form" ng-submit="ctrl.valid() && ctrl.submit()" novalidate>
            <div class="layout">
                    <table id="summary" class="layout" border="1">
                        <tr>
                            <td class="label">Risk #</td>
                            <td class="locked">{{ctrl.risk.riskid}}</td>
                            <td class="label">
                                Current Risk Level
                            </td>
                            <td class="locked {{ctrl.risk.risklevel.cls}}">
                                {{ctrl.risk.risklevel.level}}
                            </td>
                        </tr>
                        <tr>
                            <td class="label">
                                Owner
                            </td>
                            <td class="locked">
                               <div ng-show="ctrl.config.owner.done" config="owner" webix-ui="owner" id="owner" width="200" height="30" name="owner" options="users" type="richselect" />
                            </td>
                            <td class="label">
                                Risk State
                            </td>
                            <td class="locked">
                               Open
                            </td>
                        </tr>
                         <tr>
                            <td class="label">
                                Team
                            </td>
                            <td class="locked">
                               <div webix-ui="team" id="team" name="team" />
                            </td>
                            <td class="label">
                                Risk Approver
                            </td>
                            <td class="locked">
                               <div ng-show="ctrl.config.approver.done" config="approver" webix-ui="approver" id="approver" width="200" height="30" name="approver" options="users" type="richselect" />
                            </td>
                        </tr>
                    </table>
                    <br />
                    
                    <h2>Risk Information</h2>
                    <table id="details" class="layout" border="1">
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Title
                            </td>
                            <td class="locked">
                                <div ng-show="ctrl.config.risktitle.done" config="risktitle" webix-ui="risktitle" width="500" height="30" type="text" id="risktitle" name="risktitle"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Risk Statement
                            </td>
                            <td  class="locked" style="vertical-align: top">
                                <div ng-show="ctrl.config.closurecriteria.done" config="closurecriteria" webix-ui="closurecriteria" width="500" height="97" type="textarea" id="closurecriteria" name="closurecriteria"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Context
                            </td>
                            <td  class="locked" style="vertical-align: top">
                                 <div ng-show="ctrl.config.context.done" config="context" webix-ui="context" width="500" height="97" type="textarea" id="context" name="context"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Closure Criteria
                            </td>
                            <td  class="locked" style=" vertical-align: top">
                                 <div ng-show="ctrl.config.closurecriteria.done" config="closurecriteria" webix-ui="closurecriteria" width="500" height="97" type="textarea" id="closurecriteria" name="closurecriteria"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Owner Notes
                            </td>
                            <td  class="locked" style=" vertical-align: top">
                                 <div ng-show="ctrl.config.ownernotes.done" config="ownernotes" webix-ui="ownernotes" width="500" height="97" type="textarea" id="ownernotes" name="ownernotes"></div>
                            </td>
                        </tr>
                        <tr>
                            <td class="label" style="vertical-align: top">
                                Approver Comments
                            </td>
                            <td  class="locked" style=" vertical-align: top">
                                <div ng-show="ctrl.config.approvercomments.done" config="approvercomments" webix-ui="approvercomments" width="500" height="97" type="textarea" id="approvercomments" name="approvercomments"></div>
                            </td>
                        </tr>
                    </table>
                                                  
                    <div config="risk" webix-ui="risk" type="datatable" />
            </div> 
            <div>
              <!--button class="raised">Button</button-->
              <button ng-click="submit()" id="submit" class="raised primary">Edit Risk</button>
              <!--button ng-disabled="true" class="raised primary">Disabled</button>
                    <button class="raised warn">Warn</button>
                    <div class="label">Raised</div-->
            </div>       
        </form>
         <divider></divider>
          <div class="msg" layout-align="center">
            <span ng-bind-html="msg">{{msg}}</span>
          </div>
    </div> 
    <init-risk />  
</div>
    